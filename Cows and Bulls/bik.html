<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        textarea{height:200px;
        display:block;}
    </style>
</head>
<body>
  <input name="enterChislo" id="enterChislo" >
  <input type="submit" value="Submit" onclick="runScript()">
    <textarea id="log"></textarea>
    <script>
        var chislo = Math.floor(Math.random()*8999)+1000;
        var search;
        var log='';
        function runScript() {
 
        search = parseInt(document.getElementById("enterChislo").value);
        if (isNaN(search)){search = 0};
        if ((search > 10000) || (search < 999))  {
            console.log('ещё разок');
            document.getElementById("enterChislo").value = '';
            log=log+'ещёразок'+'\n';
            document.getElementById('log').value=log;
        }else{
     sravnenie(chislo,search);   
    }
   
    
}
        
function sravnenie(chislo,search){    
       var bik = 0;
       var korova = 0;

            var proverka = function(chislo,search){
                        chislo = chislo+'';
                        search = search + ''
                        var chisloArr = chislo.split('');
                        var searchArr = search.split('');    
                        for( var i = 0 ; i < 4 ; i++){
                            if (chisloArr[i] === searchArr[i]){
                                bik++;
                                chisloArr[i]=NaN;
                                searchArr[i]=NaN;
                            }

                            for( var j = 0; j < 4; j++ ){
                                if (j==i){continue}
                                if(chisloArr[i] === searchArr[j]){
                                    korova++;
                                    chisloArr[i]=NaN;
                                    searchArr[j]=NaN;
                                }
                            }
                        }
                        return(bik,korova);
                    }
    
    proverka(chislo,search);
    console.log('+');
    log=log+search+'\n'+bik + ' быков ' + korova + ' коров ' + '\n';
    document.getElementById('log').value =log;
    console.log('++');
    if(bik==4){log=log+'агась';document.getElementById('log').value=log;}
}
    
    </script>
</body>
</html> 
