<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        td {
            border: solid 1px red;
        }

        .green {
            background: green;
            color: white;
        }

    </style>
    <script>
        function swithColor(colorText) {
            var arrColor = colorText.match(/[0-9a-f]{2}/gi);
            arrHsl=[];
            console.log(arrColor);
            arrColor[0]='0x'+arrColor[0];
            arrColor[1]='0x'+arrColor[1];
            arrColor[2]='0x'+arrColor[2];
            arrColor[0]=parseInt(arrColor[0],16);
            arrColor[1]=parseInt(arrColor[1],16);
            arrColor[2]=parseInt(arrColor[2],16);
            arrColor[0]=255-Math.abs(arrColor[0]);
            arrColor[1]=255-Math.abs(arrColor[1]);
            arrColor[2]=255-Math.abs(arrColor[2]);
            if((arrColor[0]>110)&&(arrColor[0]<140)&&(arrColor[1]>110)&&(arrColor[1]<140)&&(arrColor[2]>110)&&(arrColor[2]<140)){
            arrColor[0]=140-Math.abs(arrColor[0]);
            arrColor[1]=140-Math.abs(arrColor[1]);
            arrColor[2]=140-Math.abs(arrColor[2]);    
                
            }
            bkgColor='rgb('+arrColor[0]+','+arrColor[1]+','+arrColor[2]+')'
            return bkgColor;
        }

    </script>
</head>

<body>
    <input type="number" name="x">
    <input type="number" name="y">
    <input type="color" name="color" value="#f223aa">
    <p onclick="createTable()">go</p>
    <script>
        function createTable() {
            
            var tabX = document.querySelector('input[name="x"]').value;
            var tabY = document.querySelector('input[name="y"]').value;
            var userColor=document.querySelector('input[name="color"]').value;
            var bkgColor;
            var bkgColor1 = swithColor(userColor);
            var i = 0,
                rowEl = null,
                tableEl = document.createElement("table");
            for (i = 1; i <= tabX; i++) {
                rowEl = tableEl.insertRow();

                for (j = 1; j <= tabY; j++) {


                    celEl = rowEl.insertCell();
                    celEl.textContent = i * j;
                    if ((j == 1) || (i == 1)) {
                        celEl.style.color = userColor;
                        celEl.style.backgroundColor = bkgColor1;
                    }
                    celEl.setAttribute(onclick, "setcolor(green)")

                }
            }
            document.body.appendChild(tableEl);
        }

    </script>

</body>

</html>
